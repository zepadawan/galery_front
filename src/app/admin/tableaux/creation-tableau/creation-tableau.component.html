<node-header-admin [parentPage]="parentPage" [currentPage]="currentpage"></node-header-admin>

<!-- <form ref='uploadForm' id='uploadForm' action='http://localhost:3000/upload' method='post' encType="multipart/form-data">
    <input type="file" name="sampleFile" />
    <input type='submit' value='Upload!' />
</form>
 -->
<div *ngIf="!loading" class="col-sm-6 offset-sm-3 mt-2">

  <div class="row">

    <div class="alert alert-danger text-center" role="alert" *ngIf="errorMessage">{{errorMessage}}</div>
    <div class="alert alert-success text-center" role="alert" *ngIf="successMessage">{{successMessage}}</div>

    <div class="col-md-4">
      <button type="button" (click)="filePicker.click()" class="btn theme-btn--dark1 btn--md m-2">Importer une
        image</button>
      <input style="display: none;" type="file" name="sampleFile" #filePicker (change)="onImagePick($event)"
        class="form-control">
      <div class="image-preview" *ngIf="imagePreview">
        <img [src]="imagePreview" alt="">
      </div>
    </div>

    <div class="col-md-8">

      <form [formGroup]="tableauForm">


        <div class="form-group">
          <label for="title">Nom</label>
          <input type="text" placeholder="saisir le nom du tableau" id="title" formControlName="name"
            class="form-control  bg-light">
        </div>

        <div class="form-group">
          <label for="price">prix (en €)</label>
          <input type="number" placeholder="par ex: 500,00" id="price" class="form-control  bg-light"
            formControlName="price" min="5">
        </div>

        <div class="form-group">
          <label for="title">Categorie</label>
          <select class="select" size="1" aria-label="size 3 select example" formControlName="categorie"
            class="form-control  bg-light">
            <option selected>Choisir ...</option>
            <option *ngFor="let categ of categories" value="{{categ.id}}">
              {{categ.libelle}}
            </option>
          </select>
        </div>

        <div class="form-group">
          <label for="description">Description</label>
          <textarea name="description" id="description" cols="30" rows="3" class="form-control  bg-light"
            formControlName="description" placeholder="description du tableau"></textarea>
        </div>

        <div class="form-group">
          <label for="title">Dimension</label>
          <input type="text" placeholder="dimension du tableau" id="dimension" formControlName="dimension"
            class="form-control  bg-light">
        </div>

        <div class="input-group mb-3">
          <label for="visible">Visible </label>
          <div class="input-group-prepend">
            <div class="input-group-text">
              <input type="checkbox" formControlName="visible">
            </div>
          </div>
        </div>

        <div class="input-group mb-3">
          <label for="visible">A Vendre</label>
          <div class="input-group-text">
            <input type="checkbox" formControlName="a_vendre">
          </div>
        </div>

        <div class="form-group">
          <label for="title">Année de création</label>
          <input type="text" placeholder="année de création (non obligatoire)" id="anneCreation"
            formControlName="anneCreation" class="form-control  bg-light">
        </div>

        <!-- (click)="onSubmit()" -->
        <button type="button" (click)="onSubmit()" class="btn theme-btn--dark1 btn--md m-2"
          [disabled]="tableauForm.invalid">Ajouter le tableau</button>
        <button type="button" (click)="onExit()" class="btn theme-btn--dark1 btn--md m-2">Annuler</button>

      </form>
    </div>
  </div>